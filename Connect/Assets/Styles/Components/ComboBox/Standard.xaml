<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    
    <Style
        x:Key="CbxStandard"
        TargetType="{x:Type ComboBox}">

        <!-- ATTRIBUTES -->

        <Setter
            Property="Height"
            Value="32" />
        
        <Setter
            Property="Foreground"
            Value="#1B1B1B" />
        
        <Setter
            Property="FontSize"
            Value="14" />
        
        <Setter
            Property="Cursor"
            Value="Hand" />
        
        <Setter
            Property="BorderThickness"
            Value="1" />
        
        <Setter
            Property="KeyboardNavigation.TabNavigation"
            Value="None" />
        
        <Setter
            Property="HorizontalContentAlignment"
            Value="Left" />
        
        <Setter
            Property="VerticalContentAlignment"
            Value="Center" />
        
        <Setter
            Property="ScrollViewer.HorizontalScrollBarVisibility"
            Value="Hidden" />
        
        <Setter
            Property="ScrollViewer.VerticalScrollBarVisibility"
            Value="Auto" />
        
        <Setter
            Property="FocusVisualStyle"
            Value="{x:Null}" />
        
        <Setter
            Property="AllowDrop"
            Value="True" />
        
        <Setter
            Property="Stylus.IsFlicksEnabled"
            Value="False" />

        <!-- TEMPLATE -->

        <Setter
            Property="Template">
            <Setter.Value>
                <ControlTemplate
                    TargetType="{x:Type ComboBox}">
                    <Grid>
                        <Border
                            Name="Component"
                            Padding="0"
                            Background="#FAFAFA"
                            BorderBrush="#E8E8E8"
                            BorderThickness="1"
                            CornerRadius="4"
                            SnapsToDevicePixels="True">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>
                                
                                <!-- Content Presenter -->
                                <ContentPresenter
                                    Name="ContentPresenter"
                                    Grid.Column="0"
                                    Margin="8,0,0,0"
                                    VerticalAlignment="Center"
                                    HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                    Content="{TemplateBinding SelectionBoxItem}"
                                    ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
                                    ContentTemplateSelector="{TemplateBinding ItemTemplateSelector}"
                                    IsHitTestVisible="False" />
                                
                                <!-- Editable TextBox -->
                                <TextBox
                                    x:Name="PART_EditableTextBox"
                                    Grid.Column="0"
                                    Margin="4,0,0,0"
                                    VerticalAlignment="Center"
                                    HorizontalAlignment="Stretch"
                                    Background="Transparent"
                                    BorderThickness="0"
                                    Focusable="True"
                                    IsReadOnly="{TemplateBinding IsReadOnly}"
                                    Visibility="Hidden" />
                                
                                <!-- Toggle Button -->
                                <ToggleButton
                                    Name="ToggleButton"
                                    Grid.Column="1"
                                    Width="20"
                                    Height="{TemplateBinding Height}"
                                    Background="Transparent"
                                    BorderThickness="0"
                                    Focusable="False"
                                    IsChecked="{Binding Path=IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"
                                    ClickMode="Press">
                                    <ToggleButton.Template>
                                        <ControlTemplate>
                                            <Border
                                                Background="Transparent"
                                                BorderThickness="0">
                                                <Path
                                                    x:Name="Arrow"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Center"
                                                    Data="M 0 0 L 4 4 L 8 0"
                                                    Fill="#1B1B1B"
                                                    Stroke="#1B1B1B"
                                                    StrokeThickness="1" />
                                            </Border>
                                        </ControlTemplate>
                                    </ToggleButton.Template>
                                </ToggleButton>
                            </Grid>
                        </Border>
                        
                        <!-- Popup -->
                        <Popup
                            Name="Popup"
                            Placement="Bottom"
                            IsOpen="{TemplateBinding IsDropDownOpen}"
                            AllowsTransparency="True"
                            Focusable="False"
                            PopupAnimation="Slide">
                            <Grid
                                Name="DropDown"
                                SnapsToDevicePixels="True"
                                MinWidth="{TemplateBinding ActualWidth}"
                                MaxHeight="{TemplateBinding MaxDropDownHeight}">
                                <Border
                                    Background="#FFFFFF"
                                    BorderBrush="#E8E8E8"
                                    BorderThickness="1"
                                    CornerRadius="4">
                                    <Border.Effect>
                                        <DropShadowEffect
                                            ShadowDepth="2"
                                            BlurRadius="4"
                                            Opacity="0.2" />
                                    </Border.Effect>
                                    <ScrollViewer
                                        Margin="2"
                                        SnapsToDevicePixels="True">
                                        <StackPanel
                                            IsItemsHost="True"
                                            KeyboardNavigation.DirectionalNavigation="Contained" />
                                    </ScrollViewer>
                                </Border>
                            </Grid>
                        </Popup>
                    </Grid>

                    <!-- TEMPLATE TRIGGERS -->

                    <ControlTemplate.Triggers>
                        <Trigger
                            Property="IsKeyboardFocused"
                            Value="True">
                            <Setter
                                TargetName="Component"
                                Property="BorderBrush"
                                Value="#005EB7" />
                        </Trigger>
                        
                        <Trigger
                            Property="IsDropDownOpen"
                            Value="True">
                            <Setter
                                TargetName="Component"
                                Property="BorderBrush"
                                Value="#005EB7" />
                        </Trigger>
                        
                        <Trigger
                            Property="IsEditable"
                            Value="True">
                            <Setter
                                TargetName="ContentPresenter"
                                Property="Visibility"
                                Value="Hidden" />
                            <Setter
                                TargetName="PART_EditableTextBox"
                                Property="Visibility"
                                Value="Visible" />
                        </Trigger>
                        
                        <Trigger
                            Property="IsEnabled"
                            Value="False">
                            <Setter
                                TargetName="Component"
                                Property="Background"
                                Value="#F3F3F3" />
                            <Setter
                                Property="Foreground"
                                Value="#A0A0A0" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        
        <!-- VALIDATION TEMPLATE -->
        
        <Setter
            Property="Validation.ErrorTemplate">
            <Setter.Value>
                <ControlTemplate>
                    <Grid>
                        <Border
                            BorderBrush="#C42B1C"
                            BorderThickness="1"
                            CornerRadius="4" />
                        <AdornedElementPlaceholder />
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        
        <!-- ITEM CONTAINER STYLE -->
        
        <Setter
            Property="ItemContainerStyle">
            <Setter.Value>
                <Style TargetType="{x:Type ComboBoxItem}">
                    <Setter Property="Height" Value="32" />
                    <Setter Property="Padding" Value="8,0" />
                    <Setter Property="Background" Value="Transparent" />
                    <Setter Property="BorderThickness" Value="0" />
                    <Setter Property="HorizontalContentAlignment" Value="Left" />
                    <Setter Property="VerticalContentAlignment" Value="Center" />
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="{x:Type ComboBoxItem}">
                                <Border
                                    Name="Border"
                                    Padding="{TemplateBinding Padding}"
                                    Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    SnapsToDevicePixels="True">
                                    <ContentPresenter
                                        HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                        VerticalAlignment="{TemplateBinding VerticalContentAlignment}" />
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsHighlighted" Value="True">
                                        <Setter TargetName="Border" Property="Background" Value="#F0F0F0" />
                                    </Trigger>
                                    <Trigger Property="IsSelected" Value="True">
                                        <Setter TargetName="Border" Property="Background" Value="#E0E0E0" />
                                    </Trigger>
                                    <Trigger Property="IsEnabled" Value="False">
                                        <Setter Property="Foreground" Value="#A0A0A0" />
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
            </Setter.Value>
        </Setter>
        
    </Style>
</ResourceDictionary>